!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n;"undefined"!=typeof window?n=window:"undefined"!=typeof global?n=global:"undefined"!=typeof self&&(n=self),n.dragular=e()}}(function(){return function e(n,t,r){function o(a,c){if(!t[a]){if(!n[a]){var l="function"==typeof require&&require;if(!c&&l)return l(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var s=t[a]={exports:{}};n[a][0].call(s.exports,function(e){var t=n[a][1][e];return o(t?t:e)},s,s.exports,e,n,t,r)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(){"use strict";angular.module("dragularModule",[]).factory("dragularService",function(){function e(e,n,t,r){var o={mouseup:"touchend",mousedown:"touchstart",mousemove:"touchmove"},i=angular.element(e);i[n](o[t],r),i[n](t,r)}function n(){return!0}function t(e){function n(){var n=e;do n=n.nextSibling;while(n&&1!==n.nodeType);return n}return e.nextElementSibling||n()}function r(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}function o(e,n){-1===e.className.indexOf(" "+n)&&(e.className+=" "+n)}function i(e,n){angular.element(e).removeClass(n)}function a(e,n){return(" "+e.className+" ").indexOf(" "+n+" ")>-1}function c(e,n){return"undefined"==typeof n.targetTouches?n[e]:n.targetTouches&&n.targetTouches.length&&n.targetTouches[0][e]||n.changedTouches&&n.changedTouches.length&&n.changedTouches[0][e]||0}var l=[];return function(u,s){function f(n){return function(t){function r(e){if(e.length){for(var n=e.length,t=[];n;)n--,t.push(e[n]);return t}return[e]}var o=Array.isArray(t)?t:r(t);o.forEach(function(t){"add"===n?(G.push(t),e(t,"on","mousedown",g)):(G.splice(G.indexOf(t),1),e(t,"off","mousedown",g))})}}function d(n){var t=n?"off":"on";e(P,t,"mouseup",y)}function p(){d(!0),V.removeContainer(G),y({})}function g(e){var n=e.target;if(!(0!==e.which&&1!==e.which||e.metaKey||e.ctrlKey)&&m(n)===!0){if(!Q.direction){var t=n.parentElement,r=t.offsetHeight,o=t.offsetWidth,i=n.clientHeight,a=n.clientWidth;Q.direction=o/a>r/i?"horizontal":"vertical"}var l=Y(H);q=c("pageX",e)-l.left,L=c("pageY",e)-l.top,N();var u=c("clientX",e),s=c("clientY",e),f=u-q,d=s-L;D.style.left=f+"px",D.style.top=d+"px",Q.boundingBox&&(M=c("pageX",e)-l.right,R=c("pageY",e)-l.bottom),C(e),e.preventDefault()}}function m(e){var n=e;if(V.dragging&&D)return!1;if(-1!==G.indexOf(e))return!1;for(;-1===G.indexOf(e.parentElement);){if(v(e))return!1;e=e.parentElement}if(v(e))return!1;var r=e.parentElement,i=Q.moves(e,r,n);return i?(h(),Q.copy?(W=e.cloneNode(!0),o(W,Q.classes.transit),Q.scope&&Q.scope.$emit("cloned",W,e)):o(e,Q.classes.transit),k=r,H=e,z=F=t(e),V.dragging=!0,Q.scope&&Q.scope.$emit("drag",H,k),!0):!1}function v(e){return"A"===e.tagName||"BUTTON"===e.tagName}function h(){if(V.dragging){var e=W||H;x(e,e.parentElement)}}function y(e){if(V.dragging){var n=W||H,t=c("clientX",e),r=c("clientY",e),o=A(D,t,r),a=B(o,t,r);!a||Q.copy!==!1&&a===k?Q.removeOnSpill?b():O():x(n,a),Q.dragOverClasses&&J&&(i(J,K),J=null)}}function x(e,n){Q.scope&&E(n)?Q.scope.$emit("cancel",e,k):Q.scope&&Q.scope.$emit("drop",e,n,k),w()}function b(){if(V.dragging){var e=W||H,n=e.parentElement;n&&n.removeChild(e),Q.scope&&Q.scope.$emit(Q.copy?"cancel":"remove",e,n),w()}}function O(e){if(V.dragging){var n=arguments.length>0?e:Q.revertOnSpill,t=W||H,r=t.parentElement;r===k&&Q.copy&&r.removeChild(W);var o=E(r);o===!1&&Q.copy===!1&&n&&k.insertBefore(t,z),Q.scope&&(o||n)?Q.scope.$emit("cancel",t,k):Q.scope&&Q.scope.$emit("drop",t,r,k),w()}}function w(){var e=W||H;S(),i(e,Q.classes.transit),k=H=W=z=F=null,V.dragging=!1,Q.scope&&Q.scope.$emit("dragend",e)}function E(e,n){var r;return r=void 0!==n?n:D?F:t(H||W),e===k&&r===z}function B(e,n,t){function r(){var r=!1;if(-1!==G.indexOf(c)){var l=T(c,e),u=$(c,l,n,t),s=E(c,u);r=s?!0:Q.accepts(H,c,k,u)}return Q.dragOverClasses&&a(c,Q.classes.overActive)&&c!==J&&(J&&i(J,K),K=r?Q.classes.overAccepts:Q.classes.overDeclines,o(c,K),J=c),r}for(var c=e;c&&!r();)c=c.parentElement;return c}function C(e){if(D){var n,r,o,i=c("clientX",e),a=c("clientY",e),l=i-q,u=a-L;Q.boundingBox&&(n=c("pageX",e),r=c("pageY",e),o=Y(Q.boundingBox)),Q.lockY||(!Q.boundingBox||n>o.left+q&&n<o.right+M?D.style.left=l+"px":Q.boundingBox&&(D.style.left=n<o.left+q?i-(n-o.left)+"px":i-j-(n-o.right)+"px")),Q.lockX||(!Q.boundingBox||r>o.top+L&&r<o.bottom+R?D.style.top=u+"px":Q.boundingBox&&(D.style.top=r<o.top+L?a-(r-o.top)+"px":a-U-(r-o.bottom)+"px"));var s=A(D,i,a),f=B(s,i,a);if(f!==k||!Q.copy){var d,p=W||H,g=T(f,s);if(null!==g)d=$(f,g,i,a);else{if(Q.revertOnSpill!==!0)return;d=z,f=k}(null===d||d!==p&&d!==t(p))&&(F=d,f.insertBefore(p,d),Q.scope&&Q.scope.$emit("shadow",p,f))}}}function N(){if(!D){var n=H.getBoundingClientRect();D=H.cloneNode(!0),j=n.width,U=n.height,D.style.width=n.width+"px",D.style.height=n.height+"px",i(D,Q.classes.transit),o(D,Q.classes.mirror),_.appendChild(D),e(P,"on","mousemove",C),o(_,Q.classes.unselectable),Q.scope&&Q.scope.$emit("cloned",D,H)}}function S(){D&&(i(_,Q.classes.unselectable),e(P,"off","mousemove",C),D.parentElement.removeChild(D),D=null)}function T(e,n){for(var t=n;t!==e&&t.parentElement!==e;)t=t.parentElement;return t===P?null:t}function $(e,n,r,o){function i(){var n,t,i,a=e.children.length;for(n=0;a>n;n++){if(t=e.children[n],i=t.getBoundingClientRect(),l&&i.left>r)return t;if(!l&&i.top>o)return t}return null}function a(){var e=n.getBoundingClientRect();return c(l?r>e.left+e.width/2:o>e.top+e.height/2)}function c(e){return e?t(n):n}var l="horizontal"===Q.direction,u=n!==e?a():i();return u}function X(e,n){return"undefined"!=typeof window[n]?window[n]:P.clientHeight?P[e]:_[e]}function Y(e){var n=e.getBoundingClientRect(),t=X("scrollTop","pageYOffset"),r=X("scrollLeft","pageXOffset");return{left:n.left+r,right:n.right+r,top:n.top+t,bottom:n.bottom+t}}function A(e,n,t){if(!n&&!t)return null;var r,o=e||{},i=o.className;return o.className+=" "+Q.classes.hide,r=document.elementFromPoint(n,t),o.className=i,r}var D,k,H,q,L,M,R,j,U,z,F,J,K,W,_=document.body,P=document.documentElement,G=[],I={mirror:"gu-mirror",hide:"gu-hide",unselectable:"gu-unselectable",transit:"gu-transit",overActive:"gu-over-active",overAccepts:"gu-over-accept",overDeclines:"gu-over-decline"},Q={classes:I,moves:n,accepts:n,copy:!1,revertOnSpill:!1,removeOnSpill:!1,dragOverClasses:!1,lockX:!1,lockY:!1,boundingBox:!1};r(Q.boundingBox)||(Q.boundingBox=null),s&&s.classes&&(angular.extend(I,s.classes),angular.extend(s.classes,I)),angular.extend(Q,s),Q.nameSpace&&(l[Q.nameSpace]||(l[Q.nameSpace]=[]),G=l[Q.nameSpace]);var V={addContainer:f("add"),removeContainer:f("remove"),start:m,end:h,cancel:O,remove:b,destroy:p,dragging:!1};return d(),V.addContainer(u),V}}).directive("dragular",["dragularService",function(e){return{restrict:"A",link:function(n,t,r){function o(e){try{return JSON.parse(e)}catch(n){return void console.log(n,"Dragular: not valid JSON for options!",t)}}e(t[0],n[r.dragular||"undefined"]||o(r.dragular))}}}])},{}]},{},[1])(1)});