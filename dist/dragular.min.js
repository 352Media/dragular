!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n;"undefined"!=typeof window?n=window:"undefined"!=typeof global?n=global:"undefined"!=typeof self&&(n=self),n.dragular=e()}}(function(){return function e(n,t,r){function o(a,c){if(!t[a]){if(!n[a]){var u="function"==typeof require&&require;if(!c&&u)return u(a,!0);if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var s=t[a]={exports:{}};n[a][0].call(s.exports,function(e){var t=n[a][1][e];return o(t?t:e)},s,s.exports,e,n,t,r)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(){"use strict";angular.module("dragularModule",[]).factory("dragularService",function(){function e(e,n,t,r){var o={mouseup:"touchend",mousedown:"touchstart",mousemove:"touchmove"},i=angular.element(e);i[n](o[t],r),i[n](t,r)}function n(){return!0}function t(e){function n(){var n=e;do n=n.nextSibling;while(n&&1!==n.nodeType);return n}return e.nextElementSibling||n()}function r(e,n){-1===e.className.indexOf(" "+n)&&(e.className+=" "+n)}function o(e,n){angular.element(e).removeClass(n)}function i(e,n){return(" "+e.className+" ").indexOf(" "+n+" ")>-1}function a(e,n){return"undefined"==typeof n.targetTouches?n[e]:n.targetTouches&&n.targetTouches.length&&n.targetTouches[0][e]||n.changedTouches&&n.changedTouches.length&&n.changedTouches[0][e]||0}var c=[];return function(u,l){function s(n){return function(t){function r(e){if(e.length){for(var n=e.length,t=[];n;)n--,t.push(e[n]);return t}return[e]}var o=Array.isArray(t)?t:r(t);o.forEach(function(t){"add"===n?(z.push(t),e(t,"on","mousedown",p)):(z.splice(z.indexOf(t),1),e(t,"off","mousedown",p))})}}function f(n){var t=n?"off":"on";e(_,t,"mouseup",h)}function d(){f(!0),G.removeContainer(z),h({})}function p(e){var n=e.target;if(!(0!==e.which&&1!==e.which||e.metaKey||e.ctrlKey)&&g(n)===!0){var t=B(j);k=a("pageX",e)-t.left,K=a("pageY",e)-t.top,b();var r=a("clientX",e),o=a("clientY",e),i=r-k,c=o-K;X.style.left=i+"px",X.style.top=c+"px",E(e),e.preventDefault()}}function g(e){var n=e;if(G.dragging&&X)return!1;if(-1!==z.indexOf(e))return!1;for(;-1===z.indexOf(e.parentElement);){if(v(e))return!1;e=e.parentElement}if(v(e))return!1;var o=e.parentElement,i=H.moves(e,o,n);return i?(m(),H.copy?(L=e.cloneNode(!0),r(L,H.classes.transit),H.scope&&H.scope.$emit("cloned",L,e)):r(e,H.classes.transit),Y=o,j=e,q=R=t(e),G.dragging=!0,H.scope&&H.scope.$emit("drag",j,Y),!0):!1}function v(e){return"A"===e.tagName||"BUTTON"===e.tagName}function m(){if(G.dragging){var e=L||j;y(e,e.parentElement)}}function h(e){if(G.dragging){var n=L||j,t=a("clientX",e),r=a("clientY",e),i=D(X,t,r),c=$(i,t,r);!c||H.copy!==!1&&c===Y?H.removeOnSpill?O():w():y(n,c),H.dragOverClasses&&F&&(o(F,U),F=null)}}function y(e,n){H.scope&&C(n)?H.scope.$emit("cancel",e,Y):H.scope&&H.scope.$emit("drop",e,n,Y),x()}function O(){if(G.dragging){var e=L||j,n=e.parentElement;n&&n.removeChild(e),H.scope&&H.scope.$emit(H.copy?"cancel":"remove",e,n),x()}}function w(e){if(G.dragging){var n=arguments.length>0?e:H.revertOnSpill,t=L||j,r=t.parentElement;r===Y&&H.copy&&r.removeChild(L);var o=C(r);o===!1&&H.copy===!1&&n&&Y.insertBefore(t,q),H.scope&&(o||n)?H.scope.$emit("cancel",t,Y):H.scope&&H.scope.$emit("drop",t,r,Y),x()}}function x(){var e=L||j;N(),o(e,H.classes.transit),Y=j=L=q=R=null,G.dragging=!1,H.scope&&H.scope.$emit("dragend",e)}function C(e,n){var r;return r=void 0!==n?n:X?R:t(j||L),e===Y&&r===q}function $(e,n,t){function a(){var a=!1;if(-1!==z.indexOf(c)){var u=S(c,e),l=T(c,u,n,t),s=C(c,l);a=s?!0:H.accepts(j,c,Y,l)}return H.dragOverClasses&&i(c,H.classes.overActive)&&c!==F&&(F&&o(F,U),U=a?H.classes.overAccepts:H.classes.overDeclines,r(c,U),F=c),a}for(var c=e;c&&!a();)c=c.parentElement;return c}function E(e){if(X){var n=a("clientX",e),r=a("clientY",e),o=n-k,i=r-K;H.lockX||(X.style.left=o+"px"),H.lockY||(X.style.top=i+"px");var c=D(X,n,r),u=$(c,n,r);if(u!==Y||!H.copy){var l,s=L||j,f=S(u,c);if(null!==f)l=T(u,f,n,r);else{if(H.revertOnSpill!==!0)return;l=q,u=Y}(null===l||l!==s&&l!==t(s))&&(R=l,u.insertBefore(s,l),H.scope&&H.scope.$emit("shadow",s,u))}}}function b(){if(!X){var n=j.getBoundingClientRect();X=j.cloneNode(!0),X.style.width=n.width+"px",X.style.height=n.height+"px",o(X,H.classes.transit),r(X,H.classes.mirror),M.appendChild(X),e(_,"on","mousemove",E),r(M,H.classes.unselectable),H.scope&&H.scope.$emit("cloned",X,j)}}function N(){X&&(o(M,H.classes.unselectable),e(_,"off","mousemove",E),X.parentElement.removeChild(X),X=null)}function S(e,n){for(var t=n;t!==e&&t.parentElement!==e;)t=t.parentElement;return t===_?null:t}function T(e,n,r,o){function i(){var n,t,i,a=e.children.length;for(n=0;a>n;n++){if(t=e.children[n],i=t.getBoundingClientRect(),u&&i.left>r)return t;if(!u&&i.top>o)return t}return null}function a(){var e=n.getBoundingClientRect();return c(u?r>e.left+e.width/2:o>e.top+e.height/2)}function c(e){return e?t(n):n}var u="horizontal"===H.direction,l=n!==e?a():i();return l}function A(e,n){return"undefined"!=typeof window[n]?window[n]:_.clientHeight?_[e]:M[e]}function B(e){var n=e.getBoundingClientRect();return{left:n.left+A("scrollLeft","pageXOffset"),top:n.top+A("scrollTop","pageYOffset")}}function D(e,n,t){if(!n&&!t)return null;var r,o=e||{},i=o.className;return o.className+=" "+H.classes.hide,r=document.elementFromPoint(n,t),o.className=i,r}var X,Y,j,k,K,q,R,F,U,L,M=document.body,_=document.documentElement,z=[],H={classes:{mirror:"gu-mirror",hide:"gu-hide",unselectable:"gu-unselectable",transit:"gu-transit",overActive:"gu-over-active",overAccepts:"gu-over-accept",overDeclines:"gu-over-decline"},moves:n,accepts:n,copy:!1,revertOnSpill:!1,removeOnSpill:!1,dragOverClasses:!1,lockX:!1,lockY:!1};if(angular.merge||(angular.merge=function(){function e(e,n){n?e.$$hashKey=n:delete e.$$hashKey}function n(t,r,o){for(var i=t.$$hashKey,a=0,c=r.length;c>a;++a){var u=r[a];if(angular.isObject(u)||angular.isFunction(u))for(var l=Object.keys(u),s=0,f=l.length;f>s;s++){var d=l[s],p=u[d];o&&angular.isObject(p)?angular.isDate(p)?t[d]=new Date(p.valueOf()):(angular.isObject(t[d])||(t[d]=angular.isArray(p)?[]:{}),n(t[d],[p],!0)):t[d]=p}}return e(t,i),t}return function(e){return n(e,[].slice.call(arguments,1),!0)}}()),l&&l.scope){var P=l.scope;l.scope=void 0,angular.merge(H,l),l.scope=H.scope=P}else angular.merge(H,l);H.nameSpace&&(c[H.nameSpace]||(c[H.nameSpace]=[]),z=c[H.nameSpace]);var G={addContainer:s("add"),removeContainer:s("remove"),start:g,end:m,cancel:w,remove:O,destroy:d,dragging:!1};return f(),G.addContainer(u),G}}).directive("dragular",function(e){return function(n,t,r){e(t[0],n[r.dragular||"undefined"])}})},{}]},{},[1])(1)});