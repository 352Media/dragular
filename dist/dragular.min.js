!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n;"undefined"!=typeof window?n=window:"undefined"!=typeof global?n=global:"undefined"!=typeof self&&(n=self),n.dragular=e()}}(function(){return function e(n,t,r){function o(a,c){if(!t[a]){if(!n[a]){var l="function"==typeof require&&require;if(!c&&l)return l(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var s=t[a]={exports:{}};n[a][0].call(s.exports,function(e){var t=n[a][1][e];return o(t?t:e)},s,s.exports,e,n,t,r)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(){"use strict";angular.module("dragularModule",[]).factory("dragularService",function(){function e(e,n,t,r){var o={mouseup:"touchend",mousedown:"touchstart",mousemove:"touchmove"},i=angular.element(e);i[n](o[t],r),i[n](t,r)}function n(){return!1}function t(){return!0}function r(e){function n(){var n=e;do n=n.nextSibling;while(n&&1!==n.nodeType);return n}return e.nextElementSibling||n()}function o(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}function i(e,n){-1===e.className.indexOf(" "+n)&&(e.className+=" "+n)}function a(e,n){angular.element(e).removeClass(n)}function c(e,n){return(" "+e.className+" ").indexOf(" "+n+" ")>-1}function l(e){return e.targetTouches&&e.targetTouches.length?e.targetTouches[0]:e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e}function u(e,n){var t=l(n),r={pageX:"clientX",pageY:"clientY"};return e in r&&!(e in t)&&r[e]in t&&(e=r[e]),t[e]}function s(e){return e.width||e.right-e.left}function f(e){return e.height||e.bottom-e.top}var d=[];return function(l,p){function g(e){if(Array.isArray(e))return e;if(e.length){for(var n=e.length,t=[];n;)n--,t.push(e[n]);return t}return[e]}function m(e){return function(n){var t=Array.isArray(n)?n:g(n);t.forEach(function(n){"add"===e?(on.push(n),console.warn&&console.warn("drake.addContainer is deprecated. please access drake.containers directly, instead")):(on.splice(on.indexOf(n),1),console.warn&&console.warn("drake.removeContainer is deprecated. please access drake.containers directly, instead"))})}}function v(e){return-1!==un.containers.indexOf(e)||cn.isContainer(e)}function h(n){var t=n?"off":"on";e(rn,t,"mousedown",x),e(rn,t,"mouseup",O)}function y(){h(!0),un.removeContainer(on),O({})}function x(e){e=e||window.event;var n=e.target;if(!(0!==e.which&&1!==e.which||e.metaKey||e.ctrlKey)&&w(n)===!0){if(!cn.direction){var t=n.parentElement,r=t.offsetHeight,o=t.offsetWidth,i=n.clientHeight,a=n.clientWidth;cn.direction=o/a>r/i?"horizontal":"vertical"}var c=L(U);z=u("pageX",e)-c.left,F=u("pageY",e)-c.top,W=u("clientX",e),_=u("clientY",e),cn.boundingBox&&(J=u("pageX",e)-c.right,K=u("pageY",e)-c.bottom),"number"==typeof cn.delay?nn=setTimeout(function(){b(e)},cn.delay):b(e),e.preventDefault()}}function b(e){$(),R.style.left=W-z+"px",R.style.top=_-F+"px",Y(e)}function w(e){var n=e;if(un.dragging&&R)return!1;if(v(e))return!1;for(;!v(e.parentElement);){if(cn.invalid(e,n))return!1;if(e=e.parentElement,!e)return}if(cn.invalid(e,n))return!1;var t=e.parentElement,o=cn.moves(e,t,n);return o?(E(),cn.copy?(en=e.cloneNode(!0),i(en,cn.classes.transit),cn.scope&&cn.scope.$emit("cloned",en,e)):i(e,cn.classes.transit),j=t,U=e,I=Q=r(e),un.dragging=!0,cn.scope&&cn.scope.$emit("drag",U,j),!0):!1}function C(e){return"A"===e.tagName||"BUTTON"===e.tagName}function E(){if(un.dragging){var e=en||U;B(e,e.parentElement)}}function O(e){if(un.dragging){e=e||window.event,W=u("clientX",e),_=u("clientY",e);var n=en||U,t=M(R,W,_),r=X(t,W,_);!r||cn.copy!==!1&&r===j?cn.removeOnSpill?S():N():B(n,r),cn.dragOverClasses&&V&&(a(V,Z),V=null)}}function B(e,n){cn.scope&&A(n)?cn.scope.$emit("cancel",e,j):cn.scope&&cn.scope.$emit("drop",e,n,j),T()}function S(){if(un.dragging){var e=en||U,n=e.parentElement;n&&n.removeChild(e),cn.scope&&cn.scope.$emit(cn.copy?"cancel":"remove",e,n),T()}}function N(e){if(un.dragging){var n=arguments.length>0?e:cn.revertOnSpill,t=en||U,r=t.parentElement;r===j&&cn.copy&&r.removeChild(en);var o=A(r);o===!1&&cn.copy===!1&&n&&j.insertBefore(t,I),cn.scope&&(o||n)?cn.scope.$emit("cancel",t,j):cn.scope&&cn.scope.$emit("drop",t,r,j),T()}}function T(){var e=en||U;k(),e&&a(e,cn.classes.transit),nn&&clearTimeout(nn),j=U=en=I=Q=nn=null,un.dragging=!1,cn.scope&&cn.scope.$emit("dragend",e)}function A(e,n){var t;return t=void 0!==n?n:R?Q:r(U||en),e===j&&t===I}function X(e,n,t){function r(){var r=!1;if(v(o)){var l=D(o,e),u=H(o,l,n,t),s=A(o,u);r=s?!0:cn.accepts(U,o,j,u)}return cn.dragOverClasses&&c(o,cn.classes.overActive)&&o!==V&&(V&&a(V,Z),Z=r?cn.classes.overAccepts:cn.classes.overDeclines,i(o,Z),V=o),r}for(var o=e;o&&!r();)o=o.parentElement;return o}function Y(e){if(R){e=e||window.event,W=u("clientX",e),_=u("clientY",e);var n,t,o,i=W-z,a=_-F;cn.boundingBox&&(n=u("pageX",e),t=u("pageY",e),o=L(cn.boundingBox)),cn.lockY||(!cn.boundingBox||n>o.left+z&&n<o.right+J?R.style.left=i+"px":cn.boundingBox&&(R.style.left=n<o.left+z?W-(n-o.left)+"px":W-P-(n-o.right)+"px")),cn.lockX||(!cn.boundingBox||t>o.top+F&&t<o.bottom+K?R.style.top=a+"px":cn.boundingBox&&(R.style.top=t<o.top+F?_-(t-o.top)+"px":_-G-(t-o.bottom)+"px"));var c=en||U,l=M(R,W,_),s=X(l,W,_);if(s!==j||!cn.copy){var f,d=D(s,l);if(null!==d)f=H(s,d,W,_);else{if(cn.revertOnSpill!==!0||cn.copy)return void(!cn.copy&&cn.removeOnSpill!==!0||null===c.parentElement||c.parentElement.removeChild(c));f=I,s=j}(null===f||f!==c&&f!==r(c))&&(Q=f,s.insertBefore(c,f),cn.scope&&cn.scope.$emit("shadow",c,s))}}}function $(){if(!R){var n=U.getBoundingClientRect();R=U.cloneNode(!0),P=n.width,G=n.height,R.style.width=s(n)+"px",R.style.height=f(n)+"px",a(R,cn.classes.transit),i(R,cn.classes.mirror),tn.appendChild(R),e(rn,"on","mousemove",Y),i(tn,cn.classes.unselectable),cn.scope&&cn.scope.$emit("cloned",R,U)}}function k(){R&&(a(tn,cn.classes.unselectable),e(rn,"off","mousemove",Y),R.parentElement.removeChild(R),R=null)}function D(e,n){for(var t=n;t!==e&&t.parentElement!==e;)t=t.parentElement;return t===rn?null:t}function H(e,n,t,o){function i(){var n,r,i,a=e.children.length;for(n=0;a>n;n++){if(r=e.children[n],i=r.getBoundingClientRect(),l&&i.left>t)return r;if(!l&&i.top>o)return r}return null}function a(){var e=n.getBoundingClientRect();return c(l?t>e.left+s(e)/2:o>e.top+f(e)/2)}function c(e){return e?r(n):n}var l="horizontal"===cn.direction,u=n!==e?a():i();return u}function q(e,n){return"undefined"!=typeof window[n]?window[n]:rn.clientHeight?rn[e]:tn[e]}function L(e){var n=e.getBoundingClientRect(),t=q("scrollTop","pageYOffset"),r=q("scrollLeft","pageXOffset");return{left:n.left+r,right:n.right+r,top:n.top+t,bottom:n.bottom+t}}function M(e,n,t){if(!n&&!t)return null;var r,o=e||{},i=o.className;return o.className+=" "+cn.classes.hide,r=document.elementFromPoint(n,t),o.className=i,r}1!==arguments.length||Array.isArray(l)||angular.isElement(l)||l[0]||(p=l,l=[]);var R,j,U,z,F,J,K,W,_,P,G,I,Q,V,Z,en,nn,tn=document.body,rn=document.documentElement,on=l?g(l):[],an={mirror:"gu-mirror",hide:"gu-hide",unselectable:"gu-unselectable",transit:"gu-transit",overActive:"gu-over-active",overAccepts:"gu-over-accept",overDeclines:"gu-over-decline"},cn={classes:an,containers:!1,moves:t,accepts:t,isContainer:n,copy:!1,delay:!1,invalid:C,revertOnSpill:!1,removeOnSpill:!1,dragOverClasses:!1,lockX:!1,lockY:!1,boundingBox:!1};if(o(cn.boundingBox)||(cn.boundingBox=null),p&&p.classes&&(angular.extend(an,p.classes),angular.extend(p.classes,an)),angular.extend(cn,p),cn.delay===!0&&(cn.delay=300),on=cn.containers||on,cn.nameSpace)if(d[cn.nameSpace]){for(var ln=on.length;ln;)ln--,d[cn.nameSpace].push(on[ln]);on=d[cn.nameSpace]}else d[cn.nameSpace]=on,h();else h();var un={addContainer:m("add"),removeContainer:m("remove"),containers:on,start:w,end:E,cancel:N,remove:S,destroy:y,dragging:!1};return un}}).directive("dragular",["dragularService",function(e){return{restrict:"A",link:function(n,t,r){function o(e){try{return JSON.parse(e)}catch(n){return void console.log(n,"Dragular: not valid JSON for options!",t)}}e(t[0],n[r.dragular||"undefined"]||o(r.dragular))}}}])},{}]},{},[1])(1)});