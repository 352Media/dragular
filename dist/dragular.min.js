!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n;"undefined"!=typeof window?n=window:"undefined"!=typeof global?n=global:"undefined"!=typeof self&&(n=self),n.dragular=e()}}(function(){return function e(n,r,t){function o(i,c){if(!r[i]){if(!n[i]){var u="function"==typeof require&&require;if(!c&&u)return u(i,!0);if(a)return a(i,!0);var l=new Error("Cannot find module '"+i+"'");throw l.code="MODULE_NOT_FOUND",l}var s=r[i]={exports:{}};n[i][0].call(s.exports,function(e){var r=n[i][1][e];return o(r?r:e)},s,s.exports,e,n,r,t)}return r[i].exports}for(var a="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}({1:[function(){"use strict";angular.module("dragularModule",[]).factory("dragularService",function(){function e(e,n,r,t){var o={mouseup:"touchend",mousedown:"touchstart",mousemove:"touchmove"},a=angular.element(e);a[n](o[r],t),a[n](r,t)}function n(){return!0}function r(e){function n(){var n=e;do n=n.nextSibling;while(n&&1!==n.nodeType);return n}return e.nextElementSibling||n()}function t(e,n){-1===e.className.indexOf(" "+n)&&(e.className+=" "+n)}function o(e,n){angular.element(e).removeClass(n)}function a(e,n){return(" "+e.className+" ").indexOf(" "+n+" ")>-1}function i(e,n){return"undefined"==typeof n.targetTouches?n[e]:n.targetTouches&&n.targetTouches.length&&n.targetTouches[0][e]||n.changedTouches&&n.changedTouches.length&&n.changedTouches[0][e]||0}var c=[];return function(u,l){function s(n){return function(r){function t(e){if(e.length){for(var n=e.length,r=[];n;)n--,r.push(e[n]);return r}return[e]}var o=Array.isArray(r)?r:t(r);o.forEach(function(r){"add"===n?(z.push(r),e(r,"on","mousedown",g)):(z.splice(z.indexOf(r),1),e(r,"off","mousedown",g))})}}function f(n){var r=n?"off":"on";e(k,r,"mouseup",h)}function d(){f(!0),G.removeContainer(z),h({})}function g(e){var n=e.target;if(!(0!==e.which&&1!==e.which||e.metaKey||e.ctrlKey)&&p(n)===!0){var r=B(q);R=i("pageX",e)-r.left,X=i("pageY",e)-r.top,b(),E(e),e.preventDefault()}}function p(e){var n=e;if(G.dragging&&j)return!1;if(-1!==z.indexOf(e))return!1;for(;-1===z.indexOf(e.parentElement);){if(v(e))return!1;e=e.parentElement}if(v(e))return!1;var o=e.parentElement,a=H.moves(e,o,n);return a?(m(),H.copy?(M=e.cloneNode(!0),t(M,H.classes.transit),H.scope&&H.scope.$emit("cloned",M,e)):t(e,H.classes.transit),K=o,q=e,Y=F=r(e),G.dragging=!0,H.scope&&H.scope.$emit("drag",q,K),!0):!1}function v(e){return"A"===e.tagName||"BUTTON"===e.tagName}function m(){if(G.dragging){var e=M||q;y(e,e.parentElement)}}function h(e){if(G.dragging){var n=M||q,r=i("clientX",e),t=i("clientY",e),a=D(j,r,t),c=$(a,r,t);!c||H.copy!==!1&&c===K?H.removeOnSpill?O():w():y(n,c),H.dragOverClasses&&U&&o(U,L)}}function y(e,n){H.scope&&C(n)?H.scope.$emit("cancel",e,K):H.scope&&H.scope.$emit("drop",e,n,K),x()}function O(){if(G.dragging){var e=M||q,n=e.parentElement;n&&n.removeChild(e),H.scope&&H.scope.$emit(H.copy?"cancel":"remove",e,n),x()}}function w(e){if(G.dragging){var n=arguments.length>0?e:H.revertOnSpill,r=M||q,t=r.parentElement;t===K&&H.copy&&t.removeChild(M);var o=C(t);o===!1&&H.copy===!1&&n&&K.insertBefore(r,Y),H.scope&&(o||n)?H.scope.$emit("cancel",r,K):H.scope&&H.scope.$emit("drop",r,t,K),x()}}function x(){var e=M||q;N(),o(e,H.classes.transit),K=q=M=Y=F=null,G.dragging=!1,H.scope&&H.scope.$emit("dragend",e)}function C(e,n){var t;return t=void 0!==n?n:j?F:r(q||M),e===K&&t===Y}function $(e,n,r){function i(){var i=!1;if(-1!==z.indexOf(c)){var u=S(c,e),l=T(c,u,n,r),s=C(c,l);i=s?!0:H.accepts(q,c,K,l)}return H.dragOverClasses&&a(c,H.classes.overActive)&&c!==U&&(U&&o(U,L),L=i?H.classes.overAccepts:H.classes.overDeclines,t(c,L),U=c),i}for(var c=e;c&&!i();)c=c.parentElement;return c}function E(e){if(j){var n=i("clientX",e),t=i("clientY",e),o=n-R,a=t-X;j.style.left=o+"px",j.style.top=a+"px";var c=D(j,n,t),u=$(c,n,t);if(u!==K||!H.copy){var l,s=M||q,f=S(u,c);if(null!==f)l=T(u,f,n,t);else{if(H.revertOnSpill!==!0)return;l=Y,u=K}(null===l||l!==s&&l!==r(s))&&(F=l,u.insertBefore(s,l),H.scope&&H.scope.$emit("shadow",s,u))}}}function b(){if(!j){var n=q.getBoundingClientRect();j=q.cloneNode(!0),j.style.width=n.width+"px",j.style.height=n.height+"px",o(j,H.classes.transit),t(j,H.classes.mirror),_.appendChild(j),e(k,"on","mousemove",E),t(_,H.classes.unselectable),H.scope&&H.scope.$emit("cloned",j,q)}}function N(){j&&(o(_,H.classes.unselectable),e(k,"off","mousemove",E),j.parentElement.removeChild(j),j=null)}function S(e,n){for(var r=n;r!==e&&r.parentElement!==e;)r=r.parentElement;return r===k?null:r}function T(e,n,t,o){function a(){var n,r,a,i=e.children.length;for(n=0;i>n;n++){if(r=e.children[n],a=r.getBoundingClientRect(),u&&a.left>t)return r;if(!u&&a.top>o)return r}return null}function i(){var e=n.getBoundingClientRect();return c(u?t>e.left+e.width/2:o>e.top+e.height/2)}function c(e){return e?r(n):n}var u="horizontal"===H.direction,l=n!==e?i():a();return l}function A(e,n){return"undefined"!=typeof window[n]?window[n]:k.clientHeight?k[e]:_[e]}function B(e){var n=e.getBoundingClientRect();return{left:n.left+A("scrollLeft","pageXOffset"),top:n.top+A("scrollTop","pageYOffset")}}function D(e,n,r){if(!n&&!r)return null;var t,o=e||{},a=o.className;return o.className+=" "+H.classes.hide,t=document.elementFromPoint(n,r),o.className=a,t}var j,K,q,R,X,Y,F,U,L,M,_=document.body,k=document.documentElement,z=[],H={classes:{mirror:"gu-mirror",hide:"gu-hide",unselectable:"gu-unselectable",transit:"gu-transit",overActive:"gu-over-active",overAccepts:"gu-over-accept",overDeclines:"gu-over-decline"},moves:n,accepts:n,copy:!1,revertOnSpill:!1,removeOnSpill:!1,dragOverClasses:!1};if(angular.merge||(angular.merge=function(){function e(e,n){n?e.$$hashKey=n:delete e.$$hashKey}function n(r,t,o){for(var a=r.$$hashKey,i=0,c=t.length;c>i;++i){var u=t[i];if(angular.isObject(u)||angular.isFunction(u))for(var l=Object.keys(u),s=0,f=l.length;f>s;s++){var d=l[s],g=u[d];o&&angular.isObject(g)?angular.isDate(g)?r[d]=new Date(g.valueOf()):(angular.isObject(r[d])||(r[d]=angular.isArray(g)?[]:{}),n(r[d],[g],!0)):r[d]=g}}return e(r,a),r}return function(e){return n(e,[].slice.call(arguments,1),!0)}}()),l&&l.scope){var P=l.scope;l.scope=void 0,angular.merge(H,l),l.scope=H.scope=P}else angular.merge(H,l);H.nameSpace&&(c[H.nameSpace]||(c[H.nameSpace]=[]),z=c[H.nameSpace]);var G={addContainer:s("add"),removeContainer:s("remove"),start:p,end:m,cancel:w,remove:O,destroy:d,dragging:!1};return f(),G.addContainer(u),G}}).directive("dragular",function(e){return function(n,r,t){e(r[0],n[t.dragular||"undefined"])}})},{}]},{},[1])(1)});